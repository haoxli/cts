{"version":3,"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/cross.spec.ts"],"names":["description","makeTestGroup","GPUTest","TypeF32","TypeVec","crossInterval","kVectorTestValues","allInputSources","makeVectorPairToVectorIntervalCase","run","builtin","g","test","specURL","desc","params","u","combine","unimplemented","fn","t","makeCase","x","y","cases","flatMap","i","map","j"],"mappings":";AAAA;AACA,GADA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,CANO,CAQP,SAASC,aAAT,QAA8B,kDAA9B;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,mCAAjC;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,iBAAT,QAAkC,6BAAlC;AACA;AACEC,eADF;;AAGEC,kCAHF;AAIEC,GAJF;AAKO,qBALP;;AAOA,SAASC,OAAT,QAAwB,cAAxB;;AAEA,OAAO,MAAMC,CAAC,GAAGV,aAAa,CAACC,OAAD,CAAvB;;AAEPS,CAAC,CAACC,IAAF,CAAO,gBAAP;AACGC,OADH,CACW,qDADX;AAEGC,IAFH,CAES,sBAFT;AAGGC,MAHH,CAGU,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAF,CAAU,aAAV,EAAyBV,eAAzB,CAHf;AAIGW,aAJH;;AAMAP,CAAC,CAACC,IAAF,CAAO,KAAP;AACGC,OADH,CACW,qDADX;AAEGC,IAFH,CAES,WAFT;AAGGC,MAHH,CAGU,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAF,CAAU,aAAV,EAAyBV,eAAzB,CAHf;AAIGY,EAJH,CAIM,OAAMC,CAAN,KAAW;AACb,QAAMC,QAAQ,GAAG,CAACC,CAAD,EAAcC,CAAd,KAAoC;AACnD,WAAOf,kCAAkC,CAACc,CAAD,EAAIC,CAAJ,EAAOlB,aAAP,CAAzC;AACD,GAFD;;AAIA,QAAMmB,KAAa,GAAGlB,iBAAiB,CAAC,CAAD,CAAjB,CAAqBmB,OAArB,CAA6B,CAAAC,CAAC,KAAI;AACtD,WAAOpB,iBAAiB,CAAC,CAAD,CAAjB,CAAqBqB,GAArB,CAAyB,CAAAC,CAAC,KAAI;AACnC,aAAOP,QAAQ,CAACK,CAAD,EAAIE,CAAJ,CAAf;AACD,KAFM,CAAP;AAGD,GAJqB,CAAtB;;AAMA,QAAMnB,GAAG;AACPW,EAAAA,CADO;AAEPV,EAAAA,OAAO,CAAC,OAAD,CAFA;AAGP,GAACN,OAAO,CAAC,CAAD,EAAID,OAAJ,CAAR,EAAsBC,OAAO,CAAC,CAAD,EAAID,OAAJ,CAA7B,CAHO;AAIPC,EAAAA,OAAO,CAAC,CAAD,EAAID,OAAJ,CAJA;AAKPiB,EAAAA,CAAC,CAACL,MALK;AAMPS,EAAAA,KANO,CAAT;;AAQD,CAvBH;;AAyBAb,CAAC,CAACC,IAAF,CAAO,KAAP;AACGC,OADH,CACW,qDADX;AAEGC,IAFH,CAES,WAFT;AAGGC,MAHH,CAGU,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAF,CAAU,aAAV,EAAyBV,eAAzB,CAHf;AAIGW,aAJH","sourcesContent":["export const description = `\nExecution tests for the 'cross' builtin function\n\nT is AbstractFloat, f32, or f16\n@const fn cross(e1: vec3<T> ,e2: vec3<T>) -> vec3<T>\nReturns the cross product of e1 and e2.\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../../gpu_test.js';\nimport { TypeF32, TypeVec } from '../../../../../util/conversion.js';\nimport { crossInterval } from '../../../../../util/f32_interval.js';\nimport { kVectorTestValues } from '../../../../../util/math.js';\nimport {\n  allInputSources,\n  Case,\n  makeVectorPairToVectorIntervalCase,\n  run,\n} from '../../expression.js';\n\nimport { builtin } from './builtin.js';\n\nexport const g = makeTestGroup(GPUTest);\n\ng.test('abstract_float')\n  .specURL('https://www.w3.org/TR/WGSL/#float-builtin-functions')\n  .desc(`abstract float tests`)\n  .params(u => u.combine('inputSource', allInputSources))\n  .unimplemented();\n\ng.test('f32')\n  .specURL('https://www.w3.org/TR/WGSL/#float-builtin-functions')\n  .desc(`f32 tests`)\n  .params(u => u.combine('inputSource', allInputSources))\n  .fn(async t => {\n    const makeCase = (x: number[], y: number[]): Case => {\n      return makeVectorPairToVectorIntervalCase(x, y, crossInterval);\n    };\n\n    const cases: Case[] = kVectorTestValues[3].flatMap(i => {\n      return kVectorTestValues[3].map(j => {\n        return makeCase(i, j);\n      });\n    });\n\n    await run(\n      t,\n      builtin('cross'),\n      [TypeVec(3, TypeF32), TypeVec(3, TypeF32)],\n      TypeVec(3, TypeF32),\n      t.params,\n      cases\n    );\n  });\n\ng.test('f16')\n  .specURL('https://www.w3.org/TR/WGSL/#float-builtin-functions')\n  .desc(`f16 tests`)\n  .params(u => u.combine('inputSource', allInputSources))\n  .unimplemented();\n"],"file":"cross.spec.js"}